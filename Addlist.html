<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TO do list</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    
<nav class="navbar navbar-dark navbar-expand-lg bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">To Do list</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="Addlist.html">To Do's</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="contact.html">Contact</a>
              </li>
            </ul>
            <div>
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item"> <a class="nav-link" data-bs-toggle="modal" href="#signupModalToggle2">Sign Up</a></li>
                  <li class="nav-item"><a class="nav-link"  data-bs-toggle="modal" href="#loginModalToggle">Login</a></li>
                </ul>
            </div>
          </div>
        </div>
      </nav>

<!-- login and sign up-->
<div>
  <div class="modal fade" id="loginModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Login</h1> 
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label">Email</label>
              <input type="text" class="form-control" id="lrecipient-name">
            </div>
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Passcode</label>
              <input class="form-control" id="lmessage-text"></input>
            </div>
          </form>
          <p>Don't have an account? &nbsp<a data-bs-target="#signupModalToggle2" data-bs-toggle="modal" class="tiki">Sign Up</a></p>
        </div>
        <div class="modal-footer">
          <button class="btn_sl" data-bs-dismiss="modal">Login</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="signupModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Sign Up</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label">Email</label>
              <input type="text" class="form-control" id="srecipient-name">
            </div>
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Passcode</label>
              <input class="form-control" id="smessage-text"></input>
            </div>
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Confirm Passcode</label>
              <input class="form-control" id="smessage-text2"></input>
            </div>
          </form>
          <p>Have an account? &nbsp<a data-bs-target="#loginModalToggle" data-bs-toggle="modal" class="tiki">Login</a></p>
        </div>
        <div class="modal-footer">
          <button class="btn_sl" data-bs-dismiss="modal">Sign Up</button>
          
        </div>
      </div>
    </div>
  </div>
</div>


<div style="background-color:aliceblue;">
      <p class="crt_element">
      <a class="btn btn-outline-success" data-bs-toggle="collapse" href="#Create" role="button" aria-expanded="false" aria-controls:"Create" >
      Create Task
      </a> &nbsp;
      <a class="btn btn-outline-danger" data-bs-toggle="collapse"  onclick="clearall()">
        Clear Tasks
      </a>
      </p>
  <form action="">
      <div class="container collapse" id= "Create" style="margin-top: 1em; background-color:white;">
            <div class="mb-3">
              <label for="Title" class="form-label">Title</label>
              <input type="text" class="form-control" id="Title" aria-describedby="title">
              <div id="title_help" class="form-text">Enter your title</div>
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">Description</label>
              <input type="text" class="form-control" id="description">
              <div id="description_help" class="form-text">Enter your description</div>
            </div>

            <div class="row my-4">  
              <div class="col-lg-1">Status: </div>
              <div class="col-lg-11">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked value="Pending">
                  <label class="btn btn-outline-secondary" for="btnradio1">Pending</label>
                
                  <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" value="Ongoing">
                  <label class="btn btn-outline-secondary" for="btnradio2">Ongoing</label>
                
                  <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off" value="Completed">
                  <label class="btn btn-outline-secondary" for="btnradio3">Completed</label>
                </div>
              </div>
          </div>
    </form>
            <button type="submit" class="btn btn-outline-secondary" id="add" data-bs-toggle="collapse" href="#Create" role="button">Add to list</button>  

      </div>
     
      <br>
      <hr>
  </div>
</div>

<div class="">
<p style="text-align: center; font-size: larger; ">List of Tasks <hr style="width: 30%; margin: auto;"></p>
</div>

<br>
<div class="contaner" style="margin: 0% 5% 0% 5%; height: 23em; overflow:scroll;">

  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Sr No.</th>
        <th scope="col">Title</th>
        <th scope="col">Status</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody id="tablebody">
      <tr>
        <th>1</th>
        <td class="tdk">Task 1</td>
        <td>Ongoing</td>
        <td>
          <button class="btn-sm edit">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
              <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
            </svg>
          </button>

          <button class="btn-sm edit">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
              <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>
            </svg>
          </button>

          <!-- Button trigger modal -->
          <button type="button " class="btn-sm edit" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-angle-expand" viewBox="0 0 16 16">
             <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"/>
            </svg>
          </button>
        </td> 
      </tr>
     
    </tbody>
  </table>
  
</div>


<!-- Modal for viewing the task -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="t_title">Task title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
     
      <div style="padding: 1em 1em 0em 1em">
        Status: <span id="t_status"> Pending</span>
      </div>
      <hr>
      <div class="modal-body" id="t_desc"> 
        Description
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Modal for editing the task-->
<div class="modal fade" id="editmodel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Task</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Title:</label>
            <input type="text" class="form-control" id="tl1">
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label" >Description:</label>
            <textarea class="form-control" type="text" id="ds1"></textarea>
          </div>

          <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
            <input type="radio" class="btn-check" name="btn_radio" id="btnradioa" autocomplete="off" checked value="Pending">
            <label class="btn btn-outline-secondary" for="btnradioa">Pending</label>
          
            <input type="radio" class="btn-check" name="btn_radio" id="btnradiob" autocomplete="off" value="Ongoing">
            <label class="btn btn-outline-secondary" for="btnradiob">Ongoing</label>
          
            <input type="radio" class="btn-check" name="btn_radio" id="btnradioc" autocomplete="off" value="Completed">
            <label class="btn btn-outline-secondary" for="btnradioc">Completed</label>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="edit_task()" data-bs-dismiss="modal">Update</button>
          </div>
        </form>
      </div>
    
    </div>
  </div>
</div>


<div class="container" style="margin-top: 2em;">
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-0 border-top">
    <div class="col-md-4 d-flex align-items-center">
      <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
        <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
      </a>
      <span class="mb-3 mb-md-0 text-muted">Copyright Â© 2022 Faizan Kalkoti</span>
    </div>

    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
      <li class="ms-3"><a class="text-muted" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
</svg></a></li>

      <li class="ms-3"><a class="text-muted" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16">
  <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
</svg></a></li>
      <li class="ms-3"><a class="text-muted" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telegram" viewBox="0 0 16 16">
  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z"/>
</svg></a></li>
    </ul>
  </footer>
</div>

<script> 
  //for radio button of creating task
  let st ="pending";
  rd = document.querySelectorAll("input[name='btnradio']");
  console.log(rd);
  
  function findSelected(){
      let selected = document.querySelector("input[name='btnradio']:checked").value;
      console.log(selected);
      st = selected;
    }
  rd.forEach(rd =>{
    rd.addEventListener("change", findSelected);})

  //for creating a task
  function getandupdate()
  {
    console.log("Updating List...");
    tit = document.getElementById('Title').value;
    desc = document.getElementById('description').value;
    
    if(localStorage.getItem('itemsJson')==null)
      {
       itemJsonArray = [];
       itemJsonArray.push([tit, desc, st]);
       localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
    else
      {
        itemJsonArrayStr = localStorage.getItem('itemsJson');
        itemJsonArray = JSON.parse(itemJsonArrayStr);
        itemJsonArray.push([tit, desc, st]);
        localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
      update();
  }
  
  function update()
  {
    if(localStorage.getItem('itemsJson')==null)
      {
       itemJsonArray = [];
       localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
    else
      {
        itemJsonArrayStr = localStorage.getItem('itemsJson');
        itemJsonArray = JSON.parse(itemJsonArrayStr);
      }
      //populate the table UI
      let tablebody = document.getElementById("tablebody");
      let str = "";
      itemJsonArray.forEach((element, index) => {
        str = str +` <tr>
          <th scope="row">${index + 1}</th>
          <td>${element[0]}</td>
          <td>${element[2]}</td>
          <td style="width:10em">

           <!-- Button trigger modal -->
           <button type="button " class="btn-sm edit" data-bs-toggle="modal" onclick="showtask(${index})"  data-bs-target="#staticBackdrop">
             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-angle-expand" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"/>
             </svg>
           </button>

            <button class="btn-sm edit" data-bs-toggle="modal" data-bs-target="#editmodel" onclick="sendindex(${index})" data-bs-whatever="@mdo">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"  class="bi bi-pencil-fill" viewBox="0 0 16 16">
                <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
              </svg>
            </button>
  
            <button class="btn-sm edit">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" onclick="deleted(${index})" class="bi bi-trash3" viewBox="0 0 16 16">
                <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>
              </svg>
            </button>

          </td> 
        </tr>`; 
      }); 
      tablebody.innerHTML = str;
  }
  
  add = document.getElementById("add");
  add.addEventListener("click", getandupdate);
  update();
  
  //for deleting an element  
  function deleted(itemIndex)
  {
    console.log("deleting", itemIndex);
    itemJsonArrayStr = localStorage.getItem('itemsJson');
    itemJsonArray = JSON.parse(itemJsonArrayStr);
    itemJsonArray.splice(itemIndex, 1);
    localStorage.setItem('itemsJson',JSON.stringify(itemJsonArray));
    update();
  }

  
  //for radio button of editing tasks
  let stat="pending";
  rdt = document.querySelectorAll("input[name='btn_radio']");
  console.log(rdt);

  function findselect()
  {
    let select = document.querySelector("input[name='btn_radio']:checked").value;
    console.log(select);
    stat = select;
  }
  rdt.forEach(rdt =>{
    rdt.addEventListener("change", findselect);})

  //for editing a task
  let it;
  function sendindex(item_Index)
  {
    it = item_Index;
    console.log("index: ",it);
    itemJsonArrayStr = localStorage.getItem('itemsJson');
    itemJsonArray = JSON.parse(itemJsonArrayStr);
    document.getElementById('tl1').value =  itemJsonArray[it][0];
    document.getElementById('ds1').value =  itemJsonArray[it][1];
  }

  function edit_task()
  {
    tl = document.getElementById('tl1').value;
    ds = document.getElementById('ds1').value;
    itemJsonArrayStr = localStorage.getItem('itemsJson');
    itemJsonArray = JSON.parse(itemJsonArrayStr);
    console.log("Array is: ", itemJsonArray);
    console.log("title: ", tl);
    console.log("description: ", ds);
    console.log("status: ", stat);
    itemJsonArray.splice(it, 1, [tl, ds, stat]);
    console.log("updated array list is: ", itemJsonArray);
    localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
    console.log(localStorage.getItem('itemsJson'));
    update();
  }
  
  //for clearing all elements
  function clearall()
  {
    if(confirm("Are u sure you want to delete all the tasks?"))
    {
      localStorage.clear();
      update();
    }
    else
    {
      alert("Tasks not deleted!");
    }
  }

  //for showing the task as a popup
  function showtask(itemIndex)
  {
    t_title = document.getElementById("t_title");
    t_status = document.getElementById("t_status");
    t_descption = document.getElementById("t_desc");

    itemJsonArrayStr = localStorage.getItem('itemsJson');
    itemJsonArray = JSON.parse(itemJsonArrayStr);
    console.log(itemJsonArray[itemIndex]);

    t_title.innerHTML = itemJsonArray[itemIndex][0];
    t_status.innerHTML= itemJsonArray[itemIndex][2];
    t_descption.innerHTML= itemJsonArray[itemIndex][1];
  }

  
  </script>

</body>
</html>